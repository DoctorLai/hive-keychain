//data needed to be used on some tests.
import { DynamicGlobalProperties } from '@hiveio/dhive';
require('dotenv').config();

const userData = {
  username: 'workerjab1',
  encryptKeys: {
    owner: 'STM8X56V5jtFwmchDiDfyb4YgMfjfCVrUnPVZYkuqKuWw1ZAm3jV8',
    active: 'STM85Hcqk92kE1AtueigBAtHD2kZRcqji9Gi38ZaiW8xcWcQJLof6',
    posting: 'STM7cfYmyCU6J45NjBSBUwZAV6c2ttZoNjTeaxkWSYq5HDZDWtzC3',
    memo: 'STM6mbGVeyUkC1DZUBW5wx6okDskTqGLm1VgbPCRCGyw6CPSn1VNY',
    randomString53: 'Kzi5gocL1KZlnsryMRIbfdmXgz2lLmiaosQDELp3GM2jU9sFYguxv',
  },
  nonEncryptKeys: {
    owner: process.env.OWNER_KEY || 'error, please check',
    active: process.env.ACTIVE_KEY || 'error, please check',
    posting: process.env.POSTING_KEY || 'error, please check',
    memo: process.env.MEMO_KEY || 'error, please check',
    fakeKey: '5Jq1oDi61PWMq7DNeJWQUVZV3v85QVFMN9ro3Dnmi1DySjgU1v9',
    randomStringKey51: 'MknOPyeXr5CGsCgvDewdny55MREtDpAjhkT9OsPPLCujYD82Urk',
  },
};
//data extended account
/* istanbul ignore next */
const dataUserExtended = {
  id: 1439151,
  name: 'workerjab1',
  owner: {
    weight_threshold: 1,
    account_auths: [],
    key_auths: [], //['STM8X56V5jtFwmchDiDfyb4YgMfjfCVrUnPVZYkuqKuWw1ZAm3jV8', 1]
  },
  active: {
    weight_threshold: 1,
    account_auths: [],
    key_auths: [], //['STM85Hcqk92kE1AtueigBAtHD2kZRcqji9Gi38ZaiW8xcWcQJLof6', 1]
  },
  posting: {
    weight_threshold: 1,
    account_auths: [], //['jobaboard', 1],['leofinance', 1],
    key_auths: [], //['STM7cfYmyCU6J45NjBSBUwZAV6c2ttZoNjTeaxkWSYq5HDZDWtzC3', 1]
  },
  memo_key: 'STM6mbGVeyUkC1DZUBW5wx6okDskTqGLm1VgbPCRCGyw6CPSn1VNY',
  json_metadata:
    '{"beneficiaries":[{"name":"tipu","weight":100,"label":"creator"},{"name":"hiveonboard","weight":100,"label":"provider"}]}',
  proxy: '',
  last_owner_update: '1970-01-01T00:00:00',
  last_account_update: '2021-03-06T17:18:51',
  created: '2021-02-27T12:44:12',
  mined: false,
  recovery_account: 'tipu',
  last_account_recovery: '1970-01-01T00:00:00',
  reset_account: 'null',
  comment_count: 0,
  lifetime_vote_count: 0,
  post_count: 1,
  can_vote: true,
  voting_manabar: {
    current_mana: 0,
    last_update_time: 1615046820,
  },
  voting_power: 0,
  balance: '0.000 HIVE',
  savings_balance: '0.000 HIVE',
  hbd_balance: '0.001 HBD',
  hbd_seconds: '0',
  hbd_seconds_last_update: '2021-03-06T17:26:03',
  hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_hbd_balance: '0.000 HBD',
  savings_hbd_seconds: '0',
  savings_hbd_seconds_last_update: '1970-01-01T00:00:00',
  savings_hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_withdraw_requests: 0,
  reward_hbd_balance: '0.000 HBD',
  reward_hive_balance: '0.000 HIVE',
  reward_vesting_balance: '0.000000 VESTS',
  reward_vesting_hive: '0.000 HIVE',
  vesting_shares: '0.000000 VESTS',
  delegated_vesting_shares: '0.000000 VESTS',
  received_vesting_shares: '0.000000 VESTS',
  vesting_withdraw_rate: '0.000000 VESTS',
  //post_voting_power: '0.000000 VESTS',
  next_vesting_withdrawal: '1969-12-31T23:59:59',
  withdrawn: 0,
  to_withdraw: 0,
  withdraw_routes: 0,
  //pending_transfers: 0,
  curation_rewards: 0,
  posting_rewards: 0,
  proxied_vsf_votes: [0, 0, 0, 0],
  witnesses_voted_for: 5,
  last_post: '2021-03-06T16:06:03',
  last_root_post: '1970-01-01T00:00:00',
  last_vote_time: '2021-03-06T16:07:00',
  //post_bandwidth: 0,
  //pending_claimed_accounts: 0,
  //governance_vote_expiration_ts: '2022-07-12T12:38:15',
  //delayed_votes: [],
  //open_recurrent_transfers: 0,
  vesting_balance: '0.000 HIVE',
  reputation: 0,
  transfer_history: [],
  market_history: [],
  post_history: [],
  vote_history: [],
  other_history: [],
  witness_votes: [
    'aggroed',
    'blocktrades',
    'drakos',
    'someguy123',
    'therealwolf',
  ],
  tags_usage: [],
  guest_bloggers: [],
};
/* istanbul ignore next */
const cedricDataSample = {
  id: 734613,
  name: 'cedricguillas',
  owner: {
    weight_threshold: 1,
    account_auths: [],
    key_auths: [['STM57cDQzB1MRBycNuQ3MUkcqzcAiAime5pMaG738gatvX88GFxCx', 1]],
  },
  active: {
    weight_threshold: 1,
    account_auths: [],
    key_auths: [['STM5crHtgnoweFs3kM74nuK5VtZU9Js6EmSCUu27bDK4R3bspehVS', 1]],
  },
  posting: {
    weight_threshold: 1,
    account_auths: [
      ['peakd.app', 1],
      ['stoodkev', 1],
    ],
    key_auths: [['STM57E66rEk5QuyqSm2XbbzMFu3ToFfqPRoiBoJm7KrYqiT5nfMpy', 1]],
  },
  memo_key: 'STM6WmdTCwKw6gtpKkyRo2ewb2Jf6NgGwYS8XFFVkt8hvMm1uXtKQ',
  json_metadata:
    '{"profile":{"profile_image":"https://s13.postimg.org/fwv897ow7/image.jpg","about":"Software, Android and Web Developer","location":"Taiwan","name":"cedricguillas"}}',
  posting_json_metadata:
    '{"profile":{"profile_image":"https://files.peakd.com/file/peakd-hive/cedricguillas/CV.jpg","about":"Software, Android and Web Developer","location":"Taiwan","name":"cedricguillas","version":2}}',
  proxy: '',
  last_owner_update: '1970-01-01T00:00:00',
  last_account_update: '2022-01-25T00:19:36',
  created: '2018-02-08T03:49:12',
  mined: false,
  recovery_account: 'stoodkev',
  last_account_recovery: '1970-01-01T00:00:00',
  reset_account: 'null',
  comment_count: 0,
  lifetime_vote_count: 0,
  post_count: 52,
  can_vote: true,
  voting_manabar: {
    current_mana: '9524001134618',
    last_update_time: 1651626498,
  },
  downvote_manabar: {
    current_mana: '2460669979053',
    last_update_time: 1651626498,
  },
  voting_power: 9608,
  balance: '2.300 HIVE',
  savings_balance: '0.001 HIVE',
  hbd_balance: '1.000 HBD',
  hbd_seconds: '866217363',
  hbd_seconds_last_update: '2021-06-02T18:39:54',
  hbd_last_interest_payment: '2021-05-31T15:59:54',
  savings_hbd_balance: '351.049 HBD',
  savings_hbd_seconds: '0',
  savings_hbd_seconds_last_update: '2022-04-08T05:19:06',
  savings_hbd_last_interest_payment: '2022-04-08T05:19:06',
  savings_withdraw_requests: 0,
  reward_hbd_balance: '0.000 HBD',
  reward_hive_balance: '0.000 HIVE',
  reward_vesting_balance: '0.000000 VESTS',
  reward_vesting_hive: '0.000 HIVE',
  vesting_shares: '1075684.255573 VESTS',
  delegated_vesting_shares: '552099.244487 VESTS',
  received_vesting_shares: '9319236.045047 VESTS',
  vesting_withdraw_rate: '141.139919 VESTS',
  post_voting_power: '9842821.056133 VESTS',
  next_vesting_withdrawal: '2022-05-05T01:03:51',
  withdrawn: 282279838,
  to_withdraw: 1834818939,
  withdraw_routes: 0,
  pending_transfers: 0,
  curation_rewards: 249768,
  posting_rewards: 16790,
  proxied_vsf_votes: [0, 0, 0, 0],
  witnesses_voted_for: 0,
  last_post: '2021-04-28T05:47:30',
  last_root_post: '2021-04-28T05:47:30',
  last_vote_time: '2022-05-04T00:19:06',
  post_bandwidth: 0,
  pending_claimed_accounts: 4,
  governance_vote_expiration_ts: '2023-04-22T07:33:36',
  delayed_votes: [],
  open_recurrent_transfers: 0,
  vesting_balance: '0.000 HIVE',
  reputation: '315169300383',
  transfer_history: [],
  market_history: [],
  post_history: [],
  vote_history: [],
  other_history: [],
  witness_votes: [],
  tags_usage: [],
  guest_bloggers: [],
};
/* istanbul ignore next */
const dynamicPropertiesObj = {
  id: 1200,
  confidential_supply: '1.00',
  confidential_hbd_supply: '1.00',
  average_block_size: 1,
  max_virtual_bandwidth: '1',
  current_reserve_ratio: 1,
  head_block_number: 64067452,
  head_block_id: '03d1977cbc6ba55ad67452936e3498d1aa2f8b7f',
  time: '2022-05-04T02:19:06',
  current_witness: 'ocd-witness',
  total_pow: 514415,
  num_pow_witnesses: 172,
  virtual_supply: '410954159.915 HIVE',
  current_supply: '379292312.644 HIVE',
  init_hbd_supply: '0.000 HBD',
  current_hbd_supply: '25044521.192 HBD',
  total_vesting_fund_hive: '154736550.692 HIVE',
  total_vesting_shares: '283471198739.626565 VESTS',
  total_reward_fund_hive: '0.000 HIVE',
  total_reward_shares2: '0',
  pending_rewarded_vesting_shares: '755676344.919476 VESTS',
  pending_rewarded_vesting_hive: '389377.969 HIVE',
  hbd_interest_rate: 2000,
  hbd_print_rate: 10000,
  maximum_block_size: 65536,
  required_actions_partition_percent: 0,
  current_aslot: 64265182,
  recent_slots_filled: '340282366920938463463374607431768211455',
  participation_count: 128,
  last_irreversible_block_num: 64067436,
  vote_power_reserve_rate: 10,
  delegation_return_period: 432000,
  reverse_auction_seconds: 0,
  available_account_subsidies: 14129994,
  hbd_stop_percent: 1000,
  hbd_start_percent: 900,
  next_maintenance_time: '2022-05-04T02:34:06',
  last_budget_time: '2022-05-04T01:34:06',
  next_daily_maintenance_time: '2022-05-04T19:31:30',
  content_reward_percent: 6500,
  vesting_reward_percent: 1500,
  sps_fund_percent: 1000,
  sps_interval_ledger: '200.031 HBD',
  downvote_pool_percent: 2500,
  current_remove_threshold: 200,
  early_voting_seconds: 86400,
  mid_voting_seconds: 172800,
  max_consecutive_recurrent_transfer_failures: 10,
  max_recurrent_transfer_end_date: 730,
  min_recurrent_transfers_recurrence: 24,
  max_open_recurrent_transfers: 255,
} as DynamicGlobalProperties;
/* istanbul ignore next */
const fakeQuentinAccResponseWithAuth = {
  id: 9455,
  name: 'quentin',
  owner: { weight_threshold: 1, account_auths: [], key_auths: [] },
  active: {
    weight_threshold: 1,
    account_auths: [['workerjab1', 1]],
    key_auths: [['STM85Hcqk92kE1AtueigBAtHD2kZRcqji9Gi38ZaiW8xcWcQJLof6', 1]],
  },
  posting: {
    weight_threshold: 1,
    account_auths: [['workerjab1', 1]],
    key_auths: [['STM7cfYmyCU6J45NjBSBUwZAV6c2ttZoNjTeaxkWSYq5HDZDWtzC3', 1]],
  },
  memo_key: 'STM5NT27Z4XVgtpxTf6i5uB9pYmXC6syiHUSqzVZvQ1iN8BgJsLC2',
  json_metadata: '',
  posting_json_metadata: '',
  proxy: '',
  previous_owner_update: '1970-01-01T00:00:00',
  last_owner_update: '1970-01-01T00:00:00',
  last_account_update: '1970-01-01T00:00:00',
  created: '2016-05-23T03:24:00',
  mined: true,
  recovery_account: 'steem',
  last_account_recovery: '1970-01-01T00:00:00',
  reset_account: 'null',
  comment_count: 0,
  lifetime_vote_count: 0,
  post_count: 0,
  can_vote: true,
  voting_manabar: { current_mana: 10000, last_update_time: 1463973840 },
  downvote_manabar: { current_mana: 0, last_update_time: 1463973840 },
  voting_power: 10000,
  balance: '1.000 HIVE',
  savings_balance: '1.000 HIVE',
  hbd_balance: '1.000 HBD',
  hbd_seconds: '0',
  hbd_seconds_last_update: '1970-01-01T00:00:00',
  hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_hbd_balance: '1.000 HBD',
  savings_hbd_seconds: '0',
  savings_hbd_seconds_last_update: '1970-01-01T00:00:00',
  savings_hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_withdraw_requests: 0,
  reward_hbd_balance: '1.000 HBD',
  reward_hive_balance: '1.000 HIVE',
  reward_vesting_balance: '1.000000 VESTS',
  reward_vesting_hive: '1.000 HIVE',
  vesting_shares: '1.000 VESTS',
  delegated_vesting_shares: '1.000000 VESTS',
  received_vesting_shares: '1.000000 VESTS',
  vesting_withdraw_rate: '1.000000 VESTS',
  post_voting_power: '1.000 VESTS',
  next_vesting_withdrawal: '1969-12-31T23:59:59',
  withdrawn: 0,
  to_withdraw: 0,
  withdraw_routes: 0,
  pending_transfers: 0,
  curation_rewards: 0,
  posting_rewards: 0,
  proxied_vsf_votes: [0, 0, 0, 0],
  witnesses_voted_for: 0,
  last_post: '1970-01-01T00:00:00',
  last_root_post: '1970-01-01T00:00:00',
  last_vote_time: '1970-01-01T00:00:00',
  post_bandwidth: 0,
  pending_claimed_accounts: 0,
  governance_vote_expiration_ts: '1969-12-31T23:59:59',
  delayed_votes: [],
  open_recurrent_transfers: 0,
  vesting_balance: '1.000 HIVE',
  reputation: 0,
  transfer_history: [],
  market_history: [],
  post_history: [],
  vote_history: [],
  other_history: [],
  witness_votes: [],
  tags_usage: [],
  guest_bloggers: [],
  owner_challenged: false,
  active_challenged: false,
  last_owner_proved: '',
  average_bandwidth: '100000',
  last_bandwidth_update: '',
  lifetime_market_bandwidth: '',
  last_market_bandwidth_update: '',
  average_market_bandwidth: '',
  lifetime_bandwidth: '',
  last_active_proved: '',
};
/* istanbul ignore next */
const fakeQuentinAccResponseWithNoAuth = {
  id: 9455,
  name: 'quentin',
  owner: { weight_threshold: 1, account_auths: [], key_auths: [] },
  active: { weight_threshold: 1, account_auths: [], key_auths: [] },
  posting: {
    weight_threshold: 1,
    account_auths: [],
    key_auths: [],
  },
  memo_key: 'STM5NT27Z4XVgtpxTf6i5uB9pYmXC6syiHUSqzVZvQ1iN8BgJsLC2',
  json_metadata: '',
  posting_json_metadata: '',
  proxy: '',
  previous_owner_update: '1970-01-01T00:00:00',
  last_owner_update: '1970-01-01T00:00:00',
  last_account_update: '1970-01-01T00:00:00',
  created: '2016-05-23T03:24:00',
  mined: true,
  recovery_account: 'steem',
  last_account_recovery: '1970-01-01T00:00:00',
  reset_account: 'null',
  comment_count: 0,
  lifetime_vote_count: 0,
  post_count: 0,
  can_vote: true,
  voting_manabar: { current_mana: 10000, last_update_time: 1463973840 },
  downvote_manabar: { current_mana: 0, last_update_time: 1463973840 },
  voting_power: 10000,
  balance: '1.000 HIVE',
  savings_balance: '1.000 HIVE',
  hbd_balance: '1.000 HBD',
  hbd_seconds: '0',
  hbd_seconds_last_update: '1970-01-01T00:00:00',
  hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_hbd_balance: '1.000 HBD',
  savings_hbd_seconds: '0',
  savings_hbd_seconds_last_update: '1970-01-01T00:00:00',
  savings_hbd_last_interest_payment: '1970-01-01T00:00:00',
  savings_withdraw_requests: 0,
  reward_hbd_balance: '1.000 HBD',
  reward_hive_balance: '1.000 HIVE',
  reward_vesting_balance: '1.000000 VESTS',
  reward_vesting_hive: '1.000 HIVE',
  vesting_shares: '1.000 VESTS',
  delegated_vesting_shares: '1.000000 VESTS',
  received_vesting_shares: '1.000000 VESTS',
  vesting_withdraw_rate: '1.000000 VESTS',
  post_voting_power: '1.000 VESTS',
  next_vesting_withdrawal: '1969-12-31T23:59:59',
  withdrawn: 0,
  to_withdraw: 0,
  withdraw_routes: 0,
  pending_transfers: 0,
  curation_rewards: 0,
  posting_rewards: 0,
  proxied_vsf_votes: [0, 0, 0, 0],
  witnesses_voted_for: 0,
  last_post: '1970-01-01T00:00:00',
  last_root_post: '1970-01-01T00:00:00',
  last_vote_time: '1970-01-01T00:00:00',
  post_bandwidth: 0,
  pending_claimed_accounts: 0,
  governance_vote_expiration_ts: '1969-12-31T23:59:59',
  delayed_votes: [],
  open_recurrent_transfers: 0,
  vesting_balance: '1.000 HIVE',
  reputation: 0,
  transfer_history: [],
  market_history: [],
  post_history: [],
  vote_history: [],
  other_history: [],
  witness_votes: [],
  tags_usage: [],
  guest_bloggers: [],
  owner_challenged: false,
  active_challenged: false,
  last_owner_proved: '',
  average_bandwidth: '100000',
  last_bandwidth_update: '',
  lifetime_market_bandwidth: '',
  last_market_bandwidth_update: '',
  average_market_bandwidth: '',
  lifetime_bandwidth: '',
  last_active_proved: '',
};
//data for specific test files
//to be used on: format.utils.tests.ts
//for nFormatter
/* istanbul ignore next */
const iterationValuesNoDecimals = [
  { input: 1e3, expectedString: '1k' },
  { input: 10e3, expectedString: '10k' },
  { input: 100e3, expectedString: '100k' },
  { input: 1e6, expectedString: '1M' },
  { input: 10e6, expectedString: '10M' },
  { input: 100e6, expectedString: '100M' },
  { input: 1e9, expectedString: '1G' },
  { input: 10e9, expectedString: '10G' },
  { input: 100e9, expectedString: '100G' },
  { input: 1e12, expectedString: '1T' },
  { input: 10e12, expectedString: '10T' },
  { input: 100e12, expectedString: '100T' },
  { input: 1e15, expectedString: '1P' },
  { input: 10e15, expectedString: '10P' },
  { input: 100e15, expectedString: '100P' },
  { input: 1e18, expectedString: '1E' },
];
/* istanbul ignore next */
const iterationValuesWithDecimals1 = [
  { input: 0.0, expectedString: '0', decimals: 1 },
  { input: 0.0, expectedString: '0', decimals: 2 },
  { input: 0.1, expectedString: '0.1', decimals: 1 },
  { input: 0.1234, expectedString: '0.12', decimals: 2 },
  { input: 0.1234, expectedString: '0.123', decimals: 3 },
  { input: 0.1234, expectedString: '0.1234', decimals: 4 },
];
/* istanbul ignore next */
const iterationValuesWithDecimals2 = [
  { input: 1000.0123, expectedString: '1k', decimals: 1 },
  { input: 100000.0123, expectedString: '100k', decimals: 2 },
  { input: 10000000.1, expectedString: '10M', decimals: 1 },
  { input: 1000000000000.1234, expectedString: '1T', decimals: 2 },
  { input: 10000000000000.12345432, expectedString: '10T', decimals: 5 },
  { input: 10000045600000.12345432, expectedString: '10.00005T', decimals: 5 },
  { input: 100000000000000.12345432, expectedString: '100T', decimals: 4 },
  { input: 1450000000000000.12345432, expectedString: '1.45P', decimals: 4 },
];
//end for nFormatter

//end data for specific test files
/* istanbul ignore next */
const utilsT = {
  dataUserExtended,
  cedricDataSample,
  dynamicPropertiesObj,
  fakeQuentinAccResponseWithAuth,
  fakeQuentinAccResponseWithNoAuth,
  userData,
  iterationValuesNoDecimals,
  iterationValuesWithDecimals1,
  iterationValuesWithDecimals2,
};
/* istanbul ignore next */
export default utilsT;
